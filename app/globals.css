@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--font-sans: "Quicksand", "Inter", ui-sans-serif, system-ui, sans-serif;
	--color-sidebar-ring: var(--sidebar-ring);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar: var(--sidebar);
	--color-chart-5: var(--chart-5);
	--color-chart-4: var(--chart-4);
	--color-chart-3: var(--chart-3);
	--color-chart-2: var(--chart-2);
	--color-chart-1: var(--chart-1);
	--color-ring: var(--ring);
	--color-input: var(--input);
	--color-border: var(--border);
	--color-destructive: var(--destructive);
	--color-accent-foreground: var(--accent-foreground);
	--color-accent: var(--accent);
	--color-muted-foreground: var(--muted-foreground);
	--color-muted: var(--muted);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-secondary: var(--secondary);
	--color-primary-foreground: var(--primary-foreground);
	--color-primary: var(--primary);
	--color-popover-foreground: var(--popover-foreground);
	--color-popover: var(--popover);
	--color-card-foreground: var(--card-foreground);
	--color-card: var(--card);
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
	--radius-2xl: calc(var(--radius) + 8px);
	--radius-3xl: calc(var(--radius) + 12px);
	--radius-4xl: calc(var(--radius) + 16px);
}

* {
	box-sizing: border-box;
	padding: 0;
	margin: 0;
}

html,
body {
	height: 100%;
	width: 100%;
	overflow: hidden;
}

body {
	line-height: 1.6;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@media (prefers-reduced-motion: no-preference) {
	html {
		scroll-behavior: smooth;
	}
}

:focus-visible {
	outline: 2px solid rgba(236, 72, 153, 0.6);
	outline-offset: 2px;
}

:root {
	--radius: 1.25rem;
	/* Dark Valentine Theme */
	--background: 20 14 23;
	--foreground: 255 228 240;
	--card: 30 20 28;
	--card-foreground: 255 228 240;
	--popover: 30 20 28;
	--popover-foreground: 255 228 240;
	--primary: 236 72 153;
	--primary-foreground: 255 255 255;
	--secondary: 131 24 67;
	--secondary-foreground: 255 228 240;
	--muted: 51 34 46;
	--muted-foreground: 253 164 175;
	--accent: 244 114 182;
	--accent-foreground: 255 255 255;
	--destructive: 239 68 68;
	--border: 131 24 67;
	--input: 51 34 46;
	--ring: 236 72 153;
	--sidebar: 30 20 28;
	--sidebar-foreground: 255 228 240;
	--sidebar-primary: 236 72 153;
	--sidebar-primary-foreground: 255 255 255;
	--sidebar-accent: 131 24 67;
	--sidebar-accent-foreground: 255 228 240;
	--sidebar-border: 131 24 67;
	--sidebar-ring: 236 72 153;
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-[rgb(var(--background))] text-[rgb(var(--foreground))];
	}
}

/* ================================
   KEYFRAME ANIMATIONS
   ================================ */

@keyframes bookOpen {
	0% {
		transform: perspective(2000px) rotateY(-90deg) scale(0.8);
		opacity: 0;
	}
	30% {
		transform: perspective(2000px) rotateY(-50deg) scale(0.85);
		opacity: 0.5;
	}
	60% {
		transform: perspective(2000px) rotateY(-20deg) scale(0.95);
		opacity: 0.8;
	}
	100% {
		transform: perspective(2000px) rotateY(0deg) scale(1);
		opacity: 1;
	}
}

@keyframes pageFlip {
	0% {
		opacity: 1;
		transform: translateX(0) scale(1);
	}
	50% {
		opacity: 0;
		transform: translateX(-50px) scale(0.95);
	}
	51% {
		opacity: 0;
		transform: translateX(50px) scale(0.95);
	}
	100% {
		opacity: 1;
		transform: translateX(0) scale(1);
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(40px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes float {
	0%,
	100% {
		transform: translateY(0px);
	}
	50% {
		transform: translateY(-12px);
	}
}

@keyframes heartbeat {
	0%,
	100% {
		transform: scale(1);
	}
	10%,
	30% {
		transform: scale(1.15);
	}
	20%,
	40% {
		transform: scale(1);
	}
}

@keyframes glow {
	0%,
	100% {
		filter: drop-shadow(0 0 8px rgba(236, 72, 153, 0.5));
	}
	50% {
		filter: drop-shadow(0 0 20px rgba(236, 72, 153, 0.8));
	}
}

@keyframes gradientFlow {
	0%,
	100% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
}

@keyframes floatUp {
	0% {
		transform: translateY(0) rotate(0deg);
		opacity: 0;
	}
	10% {
		opacity: 1;
	}
	90% {
		opacity: 1;
	}
	100% {
		transform: translateY(-220vh) rotate(360deg);
		opacity: 0;
	}
}

/* Animation Classes */
.animate-book-open {
	animation: bookOpen 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-page-flip {
	animation: pageFlip 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-in-up {
	animation: fadeInUp 1s ease-out forwards;
}

.animate-float {
	animation: float 3s ease-in-out infinite;
}

.animate-heartbeat {
	animation: heartbeat 2s ease-in-out infinite;
}

.animate-glow {
	animation: glow 2s ease-in-out infinite;
}

.animation-delay-100 {
	animation-delay: 100ms;
}

.animation-delay-200 {
	animation-delay: 200ms;
}

.animation-delay-300 {
	animation-delay: 300ms;
}

.animation-delay-400 {
	animation-delay: 400ms;
}

.animation-delay-500 {
	animation-delay: 500ms;
}

.animation-delay-600 {
	animation-delay: 600ms;
}

.animation-delay-700 {
	animation-delay: 700ms;
}

.animation-delay-800 {
	animation-delay: 800ms;
}

.animation-delay-900 {
	animation-delay: 900ms;
}

.animation-delay-1000 {
	animation-delay: 1000ms;
}

.animation-delay-1100 {
	animation-delay: 1100ms;
}

.animation-delay-1200 {
	animation-delay: 1200ms;
}

.duration-1500 {
	transition-duration: 1500ms;
}

.duration-2000 {
	transition-duration: 2000ms;
}

.duration-2500 {
	transition-duration: 2500ms;
}

.duration-3000 {
	transition-duration: 3000ms;
}

/* ================================
   BACKGROUND & CONTAINERS
   ================================ */

.page-background {
	background: linear-gradient(
		135deg,
		rgb(20, 14, 23) 0%,
		rgb(30, 20, 28) 20%,
		rgb(40, 25, 35) 40%,
		rgb(35, 20, 40) 60%,
		rgb(30, 20, 28) 80%,
		rgb(20, 14, 23) 100%
	);
	background-size: 400% 400%;
	animation: gradientFlow 15s ease infinite;
	position: relative;
}

.page-background::before {
	content: "";
	position: absolute;
	inset: 0;
	background-image:
		radial-gradient(
			circle at 20% 30%,
			rgba(236, 72, 153, 0.15) 0%,
			transparent 50%
		),
		radial-gradient(
			circle at 80% 70%,
			rgba(249, 168, 212, 0.15) 0%,
			transparent 50%
		);
	pointer-events: none;
}

.book-container {
	perspective: 2000px;
	transform-style: preserve-3d;
}

.book-page {
	background: linear-gradient(
		145deg,
		rgb(30, 20, 28) 0%,
		rgb(40, 25, 35) 30%,
		rgb(35, 22, 32) 60%,
		rgb(30, 20, 28) 100%
	);
	border: 2px solid rgba(236, 72, 153, 0.4);
	box-shadow:
		0 20px 60px rgba(236, 72, 153, 0.3),
		0 10px 30px rgba(236, 72, 153, 0.2),
		inset 0 1px 0 rgba(236, 72, 153, 0.1),
		inset 0 0 60px rgba(236, 72, 153, 0.05);
	border-radius: 1.5rem;
	position: relative;
	overflow: hidden;
}

.book-page::before {
	content: "";
	position: absolute;
	inset: 0;
	background-image:
		repeating-linear-gradient(
			0deg,
			rgba(236, 72, 153, 0.02) 0px,
			transparent 1px,
			transparent 2px,
			rgba(236, 72, 153, 0.02) 3px
		),
		repeating-linear-gradient(
			90deg,
			rgba(249, 168, 212, 0.02) 0px,
			transparent 1px,
			transparent 2px,
			rgba(249, 168, 212, 0.02) 3px
		);
	pointer-events: none;
	opacity: 0.5;
}

.book-page::after {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	width: 40px;
	background: linear-gradient(
		to right,
		rgba(236, 72, 153, 0.08) 0%,
		transparent 100%
	);
	pointer-events: none;
}

.book-content {
	max-height: 85vh;
	overflow-y: auto;
	overflow-x: hidden;
	scrollbar-width: thin;
	scrollbar-color: rgba(253, 164, 175, 0.5) transparent;
	padding: 2rem;
}

.book-content::-webkit-scrollbar {
	width: 6px;
}

.book-content::-webkit-scrollbar-track {
	background: transparent;
}

.book-content::-webkit-scrollbar-thumb {
	background: rgba(253, 164, 175, 0.5);
	border-radius: 3px;
}

.book-content::-webkit-scrollbar-thumb:hover {
	background: rgba(253, 164, 175, 0.7);
}

/* ================================
   SPACING UTILITIES
   ================================ */

.viewport-container {
	height: 100vh;
	max-height: 100vh;
	overflow: hidden;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 1rem;
	position: relative;
}

@media (min-width: 640px) {
	.viewport-container {
		padding: 1.5rem;
	}
}

@media (min-width: 768px) {
	.viewport-container {
		padding: 2rem;
	}
}

@media (min-width: 1024px) {
	.viewport-container {
		padding: 2.5rem;
	}
}

.content-spacing {
	padding: 2rem 1.5rem;
}

@media (min-width: 640px) {
	.content-spacing {
		padding: 2.5rem 2rem;
	}
}

@media (min-width: 768px) {
	.content-spacing {
		padding: 3rem 2.5rem;
	}
}

@media (min-width: 1024px) {
	.content-spacing {
		padding: 3.5rem 3rem;
	}
}

.section-spacing {
	margin-top: 2rem;
	margin-bottom: 2rem;
}

@media (min-width: 768px) {
	.section-spacing {
		margin-top: 2.5rem;
		margin-bottom: 2.5rem;
	}
}

.element-gap {
	gap: 1.5rem;
}

@media (min-width: 768px) {
	.element-gap {
		gap: 2rem;
	}
}

.text-spacing {
	margin-bottom: 1.5rem;
	line-height: 1.7;
}

@media (min-width: 768px) {
	.text-spacing {
		margin-bottom: 2rem;
		line-height: 1.8;
	}
}

/* ================================
   INTERACTIVE ELEMENTS
   ================================ */

.choice-card {
	padding: 2rem 1.75rem;
	min-height: 100px;
	border-radius: 1rem;
	cursor: pointer;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
	background: linear-gradient(
		135deg,
		rgb(40, 25, 35) 0%,
		rgb(45, 28, 38) 50%,
		rgb(50, 30, 42) 100%
	);
	border: 2px solid rgba(236, 72, 153, 0.4);
	box-shadow: 0 4px 15px rgba(236, 72, 153, 0.2);
}

@media (min-width: 768px) {
	.choice-card {
		padding: 2.5rem 2.25rem;
		min-height: 120px;
	}
}

.choice-card::before {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		90deg,
		transparent,
		rgba(255, 255, 255, 0.4),
		transparent
	);
	transition: left 0.6s ease;
}

.choice-card:hover::before {
	left: 100%;
}

.choice-card:hover {
	transform: translateY(-4px) scale(1.02);
	box-shadow: 0 12px 30px rgba(236, 72, 153, 0.4);
	border-color: rgba(236, 72, 153, 0.7);
}

.choice-card:active {
	transform: translateY(-2px) scale(1.01);
}

.modern-button {
	min-width: 200px;
	padding: 1.25rem 2.5rem;
	font-size: 1.125rem;
	font-weight: 600;
	border-radius: 1rem;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
	letter-spacing: 0.3px;
	border: 2px solid transparent;
	box-shadow: 0 8px 20px rgba(236, 72, 153, 0.25);
}

@media (min-width: 768px) {
	.modern-button {
		min-width: 240px;
		padding: 1.5rem 3rem;
		font-size: 1.25rem;
	}
}

.modern-button::before {
	content: "";
	position: absolute;
	top: 50%;
	left: 50%;
	width: 0;
	height: 0;
	border-radius: 50%;
	background: rgba(255, 255, 255, 0.2);
	transform: translate(-50%, -50%);
	transition:
		width 0.6s ease,
		height 0.6s ease;
}

.modern-button:hover::before {
	width: 300px;
	height: 300px;
}

.modern-button:hover {
	transform: translateY(-2px) scale(1.05);
	box-shadow: 0 15px 35px rgba(236, 72, 153, 0.35);
}

.modern-button:active {
	transform: translateY(0) scale(1.02);
}

/* ================================
   DECORATIVE ELEMENTS
   ================================ */

.emoji-enhanced {
	display: inline-block;
	filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.1));
	font-size: 1.25em;
}

.text-glow {
	text-shadow:
		0 0 20px rgba(236, 72, 153, 0.4),
		0 0 40px rgba(249, 168, 212, 0.2);
}

.soft-glow {
	box-shadow:
		0 0 30px rgba(236, 72, 153, 0.15),
		0 0 60px rgba(249, 168, 212, 0.1);
}

.chapter-heading {
	font-family: "Dancing Script", "Quicksand", cursive;
	color: rgb(244, 114, 182);
	text-shadow: 0 0 20px rgba(236, 72, 153, 0.6);
	letter-spacing: 0.5px;
}

/* ================================
   IMAGE & MEDIA
   ================================ */

.meme-container {
	border-radius: 1rem;
	overflow: hidden;
	border: 3px solid rgba(236, 72, 153, 0.5);
	box-shadow: 0 10px 25px rgba(236, 72, 153, 0.3);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	background: linear-gradient(
		135deg,
		rgb(40, 25, 35) 0%,
		rgb(45, 28, 38) 50%,
		rgb(50, 30, 42) 100%
	);
	margin: 1.5rem auto;
	max-width: 500px;
}

@media (min-width: 768px) {
	.meme-container {
		margin: 2rem auto;
	}
}

.meme-container:hover {
	transform: scale(1.03) rotate(0.5deg);
	box-shadow: 0 15px 40px rgba(236, 72, 153, 0.5);
	border-color: rgba(236, 72, 153, 0.8);
}

.meme-container img {
	width: 100%;
	height: auto;
	display: block;
	object-fit: cover;
}

/* ================================
   TYPOGRAPHY
   ================================ */

.text-content {
	line-height: 1.75;
	letter-spacing: 0.3px;
}

.choice-grid {
	display: grid;
	grid-template-columns: 1fr;
	gap: 1.25rem;
	margin-top: 1.5rem;
	margin-bottom: 1.5rem;
}

@media (min-width: 768px) {
	.choice-grid {
		gap: 1.5rem;
		margin-top: 2rem;
		margin-bottom: 2rem;
	}
}

@media (min-width: 1024px) {
	.choice-grid {
		gap: 2rem;
	}
}

/* ================================
   UTILITY CLASSES
   ================================ */

.smooth-transition {
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.gpu-accelerated {
	transform: translateZ(0);
	-webkit-transform: translateZ(0);
	will-change: transform;
}

/* ================================
   ACCESSIBILITY
   ================================ */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

@media (prefers-contrast: high) {
	.book-page {
		border-width: 3px;
		border-color: rgb(236, 72, 153);
	}

	.choice-card {
		border-width: 3px;
	}

	.modern-button {
		border-width: 3px;
	}
}
